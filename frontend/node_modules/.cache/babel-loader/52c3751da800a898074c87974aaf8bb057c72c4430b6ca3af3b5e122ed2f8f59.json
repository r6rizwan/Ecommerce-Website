{"ast":null,"code":"var _jsxFileName = \"/Users/rizwan/Documents/GitHub/Ecommerce/frontend/src/components/PayBill.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet uid = localStorage.getItem(\"userID\");\nconst PayBill = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    price\n  } = useParams();\n  console.log(id, price);\n  const paymentHandler = async e => {\n    e.preventDefault();\n    var options = {\n      key: \"rzp_test_RcpYJahrNYiMkG\",\n      key_sceret: \"Ycu2DEJwCQNG8D1aKlv2Tij6\",\n      amount: price * 100,\n      currency: \"INR\",\n      name: \"E-Commerce App\",\n      description: \"Test Transaction\",\n      handler: function (response) {\n        alert(response.razorpay_payment_id);\n        alert(\"Payment Successful\");\n        console.log(response);\n        axios.post(`http://localhost:3001/api/paybill/${id}`, {\n          price: price,\n          payment_id: response.razorpay_payment_id,\n          uid: uid\n        }).then(response => {\n          console.log(response);\n          alert(\"Payment has been done successfully\");\n          window.location = \"http://localhost:3000/orders\";\n        }).catch(error => {\n          console.log(error);\n        });\n      },\n      prefill: {\n        name: \"Rizwan Mulla\",\n        email: \"rizwanmulla6@gmail.com\",\n        contact: \"9620057555\"\n      },\n      notes: {\n        address: \"Rizwan Mulla Corporate Office\"\n      },\n      theme: {\n        color: \"#3369ccff\"\n      }\n    };\n    var pay = new window.Razorpay(options);\n    pay.open();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center align-items-center vh-100\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary btn-lg\",\n      onClick: paymentHandler,\n      children: [\"Pay Now \\u20B9\", price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(PayBill, \"w1/4EiCoO1L6CCrtWbl6jQ9U4UE=\", false, function () {\n  return [useParams, useParams];\n});\n_c = PayBill;\nexport default PayBill;\nvar _c;\n$RefreshReg$(_c, \"PayBill\");","map":{"version":3,"names":["React","axios","useParams","jsxDEV","_jsxDEV","uid","localStorage","getItem","PayBill","_s","id","price","console","log","paymentHandler","e","preventDefault","options","key","key_sceret","amount","currency","name","description","handler","response","alert","razorpay_payment_id","post","payment_id","then","window","location","catch","error","prefill","email","contact","notes","address","theme","color","pay","Razorpay","open","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/rizwan/Documents/GitHub/Ecommerce/frontend/src/components/PayBill.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\nlet uid = localStorage.getItem(\"userID\");\n\nconst PayBill = () => {\n    const { id } = useParams();\n    const { price } = useParams();\n\n    console.log(id, price);\n\n    const paymentHandler = async (e) => {\n        e.preventDefault();\n\n        var options = {\n            key: \"rzp_test_RcpYJahrNYiMkG\",\n            key_sceret: \"Ycu2DEJwCQNG8D1aKlv2Tij6\",\n\n            amount: price * 100,\n            currency: \"INR\",\n            name: \"E-Commerce App\",\n            description: \"Test Transaction\",\n            handler: function (response) {\n                alert(response.razorpay_payment_id);\n                alert(\"Payment Successful\");\n                console.log(response);\n                axios.post(`http://localhost:3001/api/paybill/${id}`, {\n                    price: price,\n                    payment_id: response.razorpay_payment_id,\n                    uid: uid,\n                }).then((response) => {\n                    console.log(response);\n                    alert(\"Payment has been done successfully\")\n                    window.location = \"http://localhost:3000/orders\"\n                }).catch((error) => {\n                    console.log(error);\n                })\n            },\n            prefill: {\n                name: \"Rizwan Mulla\",\n                email: \"rizwanmulla6@gmail.com\",\n                contact: \"9620057555\",\n            },\n\n            notes: {\n                address: \"Rizwan Mulla Corporate Office\",\n            },\n            theme: {\n                color: \"#3369ccff\",\n            }\n        }\n        var pay = new window.Razorpay(options);\n        pay.open();\n    };\n\n    return (\n        <div className=\"d-flex justify-content-center align-items-center vh-100\">\n            <button className=\"btn btn-primary btn-lg\" onClick={paymentHandler}>\n                Pay Now â‚¹{price}\n            </button>\n        </div>\n    )\n}\n\nexport default PayBill\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,IAAIC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;AAExC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,CAAC,CAAC;EAC1B,MAAM;IAAES;EAAM,CAAC,GAAGT,SAAS,CAAC,CAAC;EAE7BU,OAAO,CAACC,GAAG,CAACH,EAAE,EAAEC,KAAK,CAAC;EAEtB,MAAMG,cAAc,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIC,OAAO,GAAG;MACVC,GAAG,EAAE,yBAAyB;MAC9BC,UAAU,EAAE,0BAA0B;MAEtCC,MAAM,EAAET,KAAK,GAAG,GAAG;MACnBU,QAAQ,EAAE,KAAK;MACfC,IAAI,EAAE,gBAAgB;MACtBC,WAAW,EAAE,kBAAkB;MAC/BC,OAAO,EAAE,SAAAA,CAAUC,QAAQ,EAAE;QACzBC,KAAK,CAACD,QAAQ,CAACE,mBAAmB,CAAC;QACnCD,KAAK,CAAC,oBAAoB,CAAC;QAC3Bd,OAAO,CAACC,GAAG,CAACY,QAAQ,CAAC;QACrBxB,KAAK,CAAC2B,IAAI,CAAC,qCAAqClB,EAAE,EAAE,EAAE;UAClDC,KAAK,EAAEA,KAAK;UACZkB,UAAU,EAAEJ,QAAQ,CAACE,mBAAmB;UACxCtB,GAAG,EAAEA;QACT,CAAC,CAAC,CAACyB,IAAI,CAAEL,QAAQ,IAAK;UAClBb,OAAO,CAACC,GAAG,CAACY,QAAQ,CAAC;UACrBC,KAAK,CAAC,oCAAoC,CAAC;UAC3CK,MAAM,CAACC,QAAQ,GAAG,8BAA8B;QACpD,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;UAChBtB,OAAO,CAACC,GAAG,CAACqB,KAAK,CAAC;QACtB,CAAC,CAAC;MACN,CAAC;MACDC,OAAO,EAAE;QACLb,IAAI,EAAE,cAAc;QACpBc,KAAK,EAAE,wBAAwB;QAC/BC,OAAO,EAAE;MACb,CAAC;MAEDC,KAAK,EAAE;QACHC,OAAO,EAAE;MACb,CAAC;MACDC,KAAK,EAAE;QACHC,KAAK,EAAE;MACX;IACJ,CAAC;IACD,IAAIC,GAAG,GAAG,IAAIX,MAAM,CAACY,QAAQ,CAAC1B,OAAO,CAAC;IACtCyB,GAAG,CAACE,IAAI,CAAC,CAAC;EACd,CAAC;EAED,oBACIxC,OAAA;IAAKyC,SAAS,EAAC,yDAAyD;IAAAC,QAAA,eACpE1C,OAAA;MAAQyC,SAAS,EAAC,wBAAwB;MAACE,OAAO,EAAEjC,cAAe;MAAAgC,QAAA,GAAC,gBACvD,EAACnC,KAAK;IAAA;MAAAqC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEd,CAAC;AAAA1C,EAAA,CAzDKD,OAAO;EAAA,QACMN,SAAS,EACNA,SAAS;AAAA;AAAAkD,EAAA,GAFzB5C,OAAO;AA2Db,eAAeA,OAAO;AAAA,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}